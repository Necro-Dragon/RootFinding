import numpy as np
from yroots import ChebyshevSubdivisionSolver, M_maker

def solver(funcs,a,b,guess_degs):
    approximations = []
    errs = []
    for f,deg in zip(funcs,guess_degs):
        approx = M_maker.M_maker(f,a,b,deg)
        approximations.append(approx.M)
        errs.append(approx.err)
    errs = np.array(errs)
    yroots = np.array(ChebyshevSubdivisionSolver.solveChebyshevSubdivision(approximations,np.array([a,b]).T,errs))
    return yroots